---
layout:     post
title:      "es6 I'm coming"
subtitle:   " hello es6"
date:       2017-10-26 11:37:04
author:     "Thq"
header-img: "img/contact-bg.jpg"
catalog: true
tags:
    - es6 
    - JavaScript 
---

# å‰è¨€
åŠ±å¿—æˆä¸ºå‰ç«¯çš„æˆ‘æ€ä¹ˆèƒ½ä¸å­¦es6å‘¢ï¼ŸåºŸè¯å°‘è¯´,å°±å…ˆå…¥é—¨å§,åŠ æ²¹â†–(^Ï‰^)â†—

# let
æœ‰javaå’Œc++åŸºç¡€çš„ç«¥é‹å¯¹äºletè¿˜æ˜¯æ¯”è¾ƒå¥½æŒæ¡çš„
<br>åœ¨jsä¸­å˜é‡å¯ä»¥ä¸ç”¨å£°æ˜å°±èƒ½ç›´æ¥ç”¨(undefined),ä¸€å¼€å§‹æƒŠäº†è¿˜æœ‰è¿™ç§æ“ä½œ,å†™å¤šäº†æ‰è§æ€ªä¸æ€ªäº†ã€‚
<br>è§‰å¾—åœ¨es6ä¸­æå‡ºletä¹‹åä½¿jsè¶Šæ¥è¶Šåƒä¸€é—¨æ­£å¼çš„ç¼–ç¨‹è¯­è¨€äº†å§ã€‚
<br>let:è·Ÿjavaä¸­çš„ç±»å‹å£°æ˜å·®ä¸å¤š,ä»…åœ¨å—çº§ä½œç”¨åŸŸä¸­æœ‰æ•ˆè€Œä¸”ä½¿ç”¨å‰å¿…é¡»å£°æ˜,å¦åˆ™ä¼šå‡ºç°æš‚æ—¶æ€§æ­»åŒºTDZ(ä»£ç å—ä¹‹å†…åˆ°å˜é‡å£°æ˜ä¹‹å‰,è¯¥å˜é‡éƒ½ä¸å¯ä½¿ç”¨),çœ‹ä¸ªä¾‹å­
```
if(true) {
	//TDZ å¼€å§‹
	tmp = 'abc';	//æŠ¥é”™
	console.log(tmp);	//æŠ¥é”™

	let tmp;		//TDZç»“æŸ
	console.log(tmp);	//undefined

	tmp = 'abc';	
	console.log(tmp);	//abc
}
```
<br>ä»¥ä¸Š,æœ‰javaæˆ–è€…c++åŸºç¡€çš„å¾ˆå¥½ç†è§£,å˜é‡éœ€è¦å…ˆå£°æ˜å†ä½¿ç”¨
<br>è™½ç„¶æå‡ºäº†letæ¥è§„èŒƒè¯­è¨€,ä½†æ˜¯å¯¼è‡´äº†typeofä¸å†æ˜¯ä¸€ä¸ªç™¾åˆ†ç™¾å®‰å…¨çš„æ“ä½œ
<br>typeofä¸€ä¸ªæ²¡æœ‰å®šä¹‰æˆ–è€…æ˜¯ç”¨varå®šä¹‰çš„å˜é‡çš„æ—¶å€™æ˜¯undefined,è‹¥å˜é‡åœ¨ä¸‹é¢(éå—çº§åŒºåŸŸå†…)ç”¨letå®šä¹‰ä¹‹ååˆ™ä¼šæŠ¥é”™
<br>æœ‰äº›æ­»åŒºæ¯”è¾ƒç‹¡çŒ¾,å¾ˆä¸å®¹æ˜“å‘ç°,æ¯”å¦‚è¯´
```
function func( x = y, y = 2) {
	return [x,y];
}
func(); //æŠ¥é”™

let x = x; //æŠ¥é”™
```
<br>ç¬¬ä¸€ä¸ªä¸­,å› ä¸ºx=yçš„æ—¶å€™yè¿˜æœªå®šä¹‰,æ‰€ä»¥æŠ¥é”™ã€‚ç¬¬äºŒä¸ªxä¹Ÿæ˜¯æœªå®šä¹‰ã€‚
<br>æ€»ç»“:æš‚æ—¶æ€§æ­»åŒºæœ¬è´¨æ˜¯,åªè¦å·²è¿›å…¥å½“å‰ä½œç”¨åŸŸ,æ‰€æœ‰å˜é‡å°±å·²ç»å­˜åœ¨äº†,ä½†æ˜¯å¿…é¡»è¦ç­‰åˆ°å˜é‡å£°æ˜ä¹‹åæ‰èƒ½ä½¿ç”¨å’Œè·å–ã€‚
<br>letä¸èƒ½é‡å¤å£°æ˜ä¸€ä¸ªå˜é‡,å‡½æ•°å†…éƒ¨ä¹Ÿä¸èƒ½å£°æ˜å½¢å‚ã€‚å¾ˆæœ‰æ­£å¼ç¼–ç¨‹è¯­è¨€çš„é£èŒƒ_(:Ğ·ã‚âˆ )_
<br>es6æœ‰äº†å—çº§ä½œç”¨åŸŸçš„æ¦‚å¿µ,çœ‹ä¸ªä¾‹å­ğŸŒ° 
```
var temp = 123;
(function f() {
	console.log(temp);
	if(false) {
		var temp = 2;
	}
})(); //undefined

let temp = 123;
(function f() {
	console.log(temp);
	if(false) {
		let temp = 2;
	}
})(); //123
```
<br>å› ä¸ºvarå®šä¹‰å­˜åœ¨å˜é‡æå‡,æ‰€ä»¥å¯¼è‡´ç¬¬ä¸€ä¸ªè¾“å‡ºä¸ºundefined;è€Œç¬¬äºŒä¸ªå› ä¸ºletå®šä¹‰çš„tempåªåœ¨å®ƒçš„å—çº§ä½œç”¨åŸŸä¸­æœ‰æ•ˆ,æ‰€ä»¥è¾“å‡ºè¿˜æ˜¯å¤–é¢çš„temp
<br>å¼•å…¥å—çº§ä½œç”¨åŸŸä¹‹å,æ˜ç¡®äº†å—çº§ä½œç”¨åŸŸä¸­å¯ä»¥å£°æ˜å‡½æ•°,å‡½æ•°å£°æ˜ç±»ä¼¼äºlet,åœ¨å—çº§ä½œç”¨åŸŸä¹‹å¤–ä¸èƒ½ä½¿ç”¨,åœ¨çœ‹ä¸ªğŸŒ°
```
function f() {console.log(1);}

(function (){
	if(false) {
		function f() {console.log(2);}	//åœ¨es5ä¸­,è¯¥è¡Œä¼šè¢«æå‡åˆ°å‡½æ•°å¤´éƒ¨,ç»“æœè¾“å‡ºçš„æ˜¯2;ä½†æ˜¯åœ¨es6ä¸­å®Œå…¨ä¸ä¸€æ ·äº†,æŒ‰ç†è®ºæ¥è¯´,ifå—çº§ä½œç”¨åŸŸä¸­få‡½æ•°ä¸èƒ½è¢«è®¿é—®,åº”è¯¥è¾“å‡º1,å¯å®é™…ä¸Šä¼šæŠ¥é”™.
	}	
	f();
}());
```
<br>åœ¨es6ä¸­ifå—çº§ä½œç”¨åŸŸä¸­çš„få‡½æ•°ç›¸å½“äºä¸€ä¸ªvarçš„å˜é‡,è¢«æå‡åˆ°åŒ¿åå‡½æ•°å¤´éƒ¨,var f = undefined;æ‰€ä»¥æ‰åœ¨es6ä¸­æŠ¥é”™,è€Œes5ä¸­ç»“æœæ˜¯2
<br>
# constå‘½ä»¤
<br>å£°æ˜ä¸€ä¸ªåªè¯»çš„å˜é‡,ä¸€æ—¦ä¿®æ”¹åˆ™ä¼šæŠ¥é”™,æ‰€ä»¥ä¹Ÿå°±æ„å‘³ç€ä¸€æ—¦å£°æ˜å°±åº”è¯¥åˆå§‹åŒ–
<br>åŒletå‘½ä»¤ä¸€æ ·,åªåœ¨å£°æ˜æ‰€åœ¨çš„å—çº§ä½œç”¨åŸŸå†…æœ‰æ•ˆ,ä¸å­˜åœ¨æå‡ä¹Ÿå­˜åœ¨æš‚æ—¶æ€§æ­»åŒº,ä¸€æ ·ä¸èƒ½é‡å¤å£°æ˜
<br>æœ¬è´¨:å¹¶éå˜é‡çš„å€¼ä¸å¾—æ”¹å˜,è€Œæ˜¯å˜é‡æŒ‡å‘çš„é‚£ä¸ªå†…å­˜åœ°å€ä¸å¾—æ”¹åŠ¨;å¯¹äºç®€å•ç±»å‹çš„æ•°æ®(æ•°å€¼ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å€¼),å€¼å°±ä¿å­˜åœ¨æŒ‡å‘çš„å†…å­˜åœ°å€,ä½†å¯¹äºå¤åˆç±»å‹çš„æ•°æ®å‘¢ï¼Ÿæ¯”å¦‚è¯´å¯¹è±¡å’Œæ•°ç»„,å˜é‡æŒ‡å‘çš„å†…å­˜åœ°å€åªæ˜¯ä¸€ä¸ªæŒ‡é’ˆ,conståªèƒ½ä¿è¯è¿™ä¸ªæŒ‡é’ˆæ˜¯å›ºå®šçš„,ç”šè‡³æ•°æ®ç»“æ„å¯ä¸å¯å˜å°±ä¸èƒ½æ§åˆ¶äº†
<br>Q:å£°æ˜ä¸€ä¸ªconstå¯¹è±¡æˆ–è€…æ•°ç»„,æ—¢ç„¶åªæ˜¯ä¸€ä¸ªæŒ‡é’ˆ,é‚£ä¹ˆæ˜¯å¦èƒ½å¯¹æ•°ç»„æˆ–è€…å¯¹è±¡è¿›è¡Œæ“ä½œå‘¢?
<br>A:æ˜¯å¯ä»¥çš„,ğŸŒ°
```
const foo = {};
foo.prop = 123;	//OK,å¯ä»¥ä¸ºfooå¯¹è±¡æ·»åŠ ä¸€ä¸ªpropå±æ€§
foo = {};		//error,ä¸èƒ½æŒ‡å‘å¦ä¸€ä¸ªå¯¹è±¡,å› ä¸ºæ˜¯constå£°æ˜çš„_(:Ğ·ã‚âˆ )_

const a = [];
a.push('hello');	//OK
a.length = 0;		//OK
a = ['aaa'];		//æŠ¥é”™
```
<br>å¦‚æœæƒ³æŠŠä¸€ä¸ªå¯¹è±¡å†»ç»“çš„è¯å¯ä»¥ç”¨Object.freezeæ–¹æ³•
<br>å¯¹è±¡å†»ç»“å®é™…ä¸Šå¯¹è±¡çš„å±æ€§ä¹Ÿåº”è¯¥å†»ç»“,å¯ä»¥ç”¨ä¸‹é¢çš„å‡½æ•°å°†å¯¹è±¡å½»åº•å†»ç»“(ç”¨åˆ°äº†ç®­å¤´å‡½æ•°,ä¸‹é¢æ‰å­¦,çœ‹ä¸æ‡‚å…ˆæ”¾ä¸€æ”¾)
```
var constantize = (obj) => {
		Object.freeze(obj);
		Object.keys(objï¼‰.forEach(key, i) => {
			if(typeof obj[key] === 'object') {
				constantize( obj[key]);
			}
		});
	};
```
<br>es6å£°æ˜å˜é‡çš„æ–¹å¼æœ‰å…­ç§:var function let const import class,es5ä¸­åªæœ‰var å’Œ function
<br>
<br>åœ¨es5ä¸­varå£°æ˜çš„å…¨å±€å˜é‡ä¸é¡¶å±‚å±æ€§æŒ‚é’©ä¹Ÿå°±æ˜¯è¯´var a == window.a;
<br>åœ¨es6ä¸­å°†è§£é™¤è¿™ç‚¹,ç”¨let const classå‘½ä»¤å£°æ˜çš„å…¨å±€å˜é‡ä¸å†å±äºé¡¶å±‚å¯¹è±¡çš„å±æ€§äº†,ä¹Ÿå°±æ˜¯let b != window.b(è¿™æ ·å†™å‡ºç°äº†æ­»åŒº,bå®šä¹‰è¯­å¥è¿˜æœªç»“æŸ)let b = 1; b != window.b;
<br>*Q*:ä¸ºä»€ä¹ˆå‘¢ï¼Ÿè¿™æ ·çš„ç›®çš„æ˜¯ä»€ä¹ˆï¼Ÿ
<br>*A*:çœ‹ğŸŒ°
```
	window.a = 10;
	console.log(a);	//10
	a = 12;
	console.log(window.a);	//12
```
<br>ä¸Šé¢ç»™windowå¯¹è±¡æ·»åŠ äº†ä¸€ä¸ªaå±æ€§ä¸”å€¼ä¸º10,ç„¶åa=12å°±ç›´æ¥ä¸window.aæŒ‚é’©äº†
<br>é¦–å…ˆæ²¡æ³•åœ¨ç¼–è¯‘æ—¶æŠ¥å‡ºå˜é‡æœªå£°æ˜çš„é”™è¯¯(ä¸ç†è§£,å¥½æ¯”(é¡µé¢åŠ è½½å®Œæˆæ²¡æœ‰æŠ¥é”™,åœ¨äº¤äº’ä¹‹åæŠ¥é”™ï¼Ÿï¼Ÿï¼Ÿ)),å…¶æ¬¡å¾ˆå®¹æ˜“å› ä¸ºæ‰“é”™å­—è€Œå‡ºç°å…¨å±€å˜é‡,æœ€åé¡¶å±‚å¯¹è±¡çš„å±æ€§æ˜¯åˆ°å¤„å¯ä»¥è¯»å†™çš„,ä¸åˆ©äºæ¨¡å—åŒ–ç¼–ç¨‹
<br>*letå’Œconstå‘Šä¸€æ®µè½äº†,é¡¶å±‚å¯¹è±¡è¿˜å¯ä»¥å†è¿›ä¸€æ­¥å­¦ä¹ ,â†–(^Ï‰^)â†—*
<br>
# å˜é‡çš„è§£æ„èµ‹å€¼
*æ•°ç»„çš„è§£æ„*
<br>åºŸè¯:æˆ¿å­å¯ç®—è½å®šä¸‹æ¥å•¦,å¯ä»¥å¥½å¥½å®‰å¿ƒçš„å­¦ä¹ å•¦ â™ª(ï¼¾âˆ€ï¼¾â—)ï¾‰
<br>è§£æ„èµ‹å€¼æœ¬è´¨ä¸Šæ˜¯å±äºæ¨¡å¼åŒ¹é…,åªè¦ç­‰å·ä¸¤è¾¹çš„æ¨¡å¼ç›¸åŒ,å·¦è¾¹çš„å˜é‡å°±ä¼šè¢«èµ‹äºˆå¯¹åº”çš„å€¼.è¯´çš„å†å¤š,ä¸å¦‚çœ‹å‡ ä¸ªä¾‹å­å°±æ˜ç™½äº†.
```
let [foo, [[bar], baz]] = [1, [[2], 3]];
foo // 1
bar // 2
baz // 3

let [ , , third] = ['foo', 'bar', 'baz'];
third // 'baz'

let [x, , y] = [1, 2, 3];
x // 1
y // 3

let [head, ...tail] = [1, 2, 3, 4];
head // 1
tail // [2, 3, 4]

let [x, y, ...z] = ['a'];
x // 'a'
y // undefined
z // []
``` 
<br>è§£æ„ä¸æˆåŠŸåˆ™å€¼ä¸ºundefinedä½†ä¸æŠ¥é”™,è¿˜æœ‰ä¸€ç§æ˜¯ä¸å®Œå…¨è§£æ„,å³å·¦è¾¹çš„æ¨¡å¼,åªåŒ¹é…ä¸€éƒ¨åˆ†çš„ç­‰å·å³è¾¹çš„æ•°ç»„,ä½†è§£æ„ä¾ç„¶å¯ä»¥æˆåŠŸ
```
let [x, y] = [1, 2, 3];
x // 1
y // 2

let [a, [b], d] = [1, [2, 3], 4];
a // 1
b // 2
d // 4
```
<br>ä¸Šé¢éƒ½æ˜¯ä¸å®Œå…¨è§£æ„,ä½†æ˜¯éƒ½å¯ä»¥æˆåŠŸ
<br>å¦‚æœç­‰å·çš„å³è¾¹ä¸æ˜¯æ•°ç»„(ä¸¥æ ¼çš„è¯´ä¸æ˜¯å¯éå†çš„ç»“æ„)åˆ™ä¼šæŠ¥é”™,ä»¥ä¸‹å‡ä¼šæŠ¥é”™
```
let [foo] = 1;
let [foo] = false;
let [foo] = NanN;
let [foo] = undefined;
let [foo] = null;
let [foo] = {};
```
<br>ä»¥ä¸Šå‡ä¼šæŠ¥é”™,å› ä¸ºç­‰å·å³è¾¹çš„å€¼è¦ä¹ˆè½¬ä¸ºå¯¹è±¡ä»¥åä¸å…·å¤‡Iteratoræ¥å£,è¦ä¹ˆæœ¬èº«å°±ä¸å…·æœ‰Iteratorç»“æ„.
<br>ç®€å•çš„èŠèŠIterator,ç¬¬ä¸€æ¬¡æ¥é”™åº”è¯¥æ˜¯åœ¨c++ STLä¸­çš„è¿­ä»£å™¨,è¿™ä¸ªä¹ŸåŒç†,es6ä¸­èƒ½éå†çš„æ•°æ®ç±»å‹æœ‰å››ç§<em>Array,Object,Map,Set</em>
<br>ä¸Šé¢å››ç§éƒ½æ˜¯é›†åˆ,é‚£éå†å°±æ˜¯å¾ˆå¸¸è§çš„ä¸€ä¸ªéœ€æ±‚äº†.Iteratoråˆ™æä¾›äº†ä¸€ç§ç»Ÿä¸€çš„æ¥å£æœºåˆ¶,ä»»ä½•çš„æ•°æ®ç»“æ„åªè¦éƒ¨ç½²äº†Iteratoræ¥å£,ä¾¿å¯ä»¥ç”¨ç±»ä¼¼çš„æ–¹æ³•è¿›è¡Œéå†æ“ä½œ å¦‚ä½•éƒ¨ç½²æ¥å£,æ…¢æ…¢æ¥å§,åé¢ä¼šå­¦(â—-â—)
<br>è§£æ„èµ‹å€¼å…è®¸æŒ‡å®šé»˜è®¤å€¼,èµ‹å€¼å†…éƒ¨ä½¿ç”¨===ç¬¦å·è¿›è¡Œåˆ¤æ–­
```
let [foo = true]= [];
foo // true

let [x, y = 'b'] = ['a'];  // x = 'a' , y ='b'
let [x, y = 'b'] = ['a', undefined];  // x = 'a', y = 'b';
let [x = 1] = [null];  // x = null;  é»˜è®¤å€¼ä¸ä¼šç”Ÿæ•ˆ,å› ä¸ºnullä¸ä¸¥ç­‰äºundefined
```
<br>å¦‚æœä¸€ä¸ªé»˜è®¤å€¼æ˜¯è¡¨è¾¾å¼çš„è¯,é‚£ä¹ˆè¿™ä¸ªè¡¨è¾¾å¼æ˜¯æƒ°æ€§æ±‚å€¼,å³åªæœ‰åœ¨ç”¨åˆ°çš„æ—¶å€™æ‰æ±‚å€¼
```
function f() {
	console.log('aaa');
}

let [x = f()] = [1];  //å› ä¸º  1 !== undefined æ‰€ä»¥f() ä¸ä¼šæ‰§è¡Œ;è‹¥ä¼ çš„å€¼æ˜¯undefinedçš„è¯,f()è¿”å›çš„å€¼ä¹Ÿæ˜¯undefined

let [x = 1, y = x] = [];  // x=1,y=1;
let [x = 1, y = x] = [2]; // x=2,y=2;
let [x = 1, y = x] = [1, 2]; //x=1,y=2;
let [x = y, y = 1] = []; //æŠ¥é”™ yä¸ºå£°æ˜ 
```
*å¯¹è±¡çš„è§£æ„*
<br>å¯¹è±¡çš„ç»“æ„ä¸æ•°ç»„è§£æ„ä¸åŒçš„æ˜¯,æ•°ç»„å…ƒç´ ç­‰å¼ä¸¤è¾¹æŒ‰æ¬¡åºæ’åˆ—,æ•°ç»„å˜é‡çš„å–å€¼ä¸ä½ç½®æœ‰å…³,è€Œå¯¹è±¡åªéœ€è¦å˜é‡ä¸å±æ€§åŒåå°±è¡Œ
```
let {foo, baz} = {foo: "aaa", bar: "bbb"};
foo // "aaa"
baz // "bbb"


let {baz} = {foo : "aaa"};
baz // undefined

let {foo: baz} = {foo: 'aaa'};
baz // 'aaa'
foo // error: foo is undefined
//å‰è€…æ˜¯åŒ¹é…æ¨¡å¼,åè€…æ‰æ˜¯å˜é‡

```
*ç–‘ç‚¹*
```
let {foo} = {foo: 1};
console.log(foo); // 1
let bar1;
({bar1} = {bar1: 1});
console.log(bar1);	// 1
let bar;
{bar} = {bar: 1};
console.log(bar);	// 1
```
<br>è§£æ„ä¹Ÿå¯ä»¥ç”¨äºåµŒå¥—ç»“æ„çš„å¯¹è±¡,åŒæ ·ä¹Ÿèƒ½æŒ‡å®šé»˜è®¤å€¼(åŒæ•°ç»„)
```
let obj = {
	p: [
		'hello',
		{ y: 'world'}
	]
};

let {p: [x, { y }]} = obj;

let {x = 3} = {};
x // 3
let {x: y = 3} = {x : 5};
y // 5
```
<br>å¯¹è±¡å†…ç½®çš„å±æ€§ä¹Ÿå¯ä»¥ç”¨æ¥ç›´æ¥èµ‹å€¼,æ¯”å¦‚
```
let { log, sin, cos} = Math;
åˆ†åˆ«å¯¹åº”Mathå¯¹è±¡çš„å¯¹æ•° æ­£å¼¦ ä½™å¼¦ä¸‰ä¸ªæ–¹æ³•
let arr = [1, 2, 3];
let {0: first, [arr.length -1]: last} = arr;
first // 1 
last // 3
```
*å­—ç¬¦ä¸²çš„è§£æ„èµ‹å€¼*
<br>å­—ç¬¦ä¸²è¢«è½¬æ¢æˆäº†ä¸€ä¸ªç±»ä¼¼æ•°ç»„çš„å¯¹è±¡
```
const [a, b, c, d, e] = 'hello';

let {length: len} = 'length';
len //5
```
<br>è§£æ„èµ‹å€¼æ—¶ï¼Œç­‰å·å³è¾¹æ˜¯æ•°å­—æˆ–è€…å¸ƒå°”å€¼åˆ™ä¼˜å…ˆè½¬åŒ–ä¸ºå¯¹è±¡ã€‚å½“ç­‰å·å³è¾¹ä¸æ˜¯å¯¹è±¡æˆ–æ•°ç»„çš„è¯åˆ™æŠ¥é”™,ä¾‹å¦‚
```
let {prop: x} = undefined;
let {prop: y} = null; 
```
*é‚£ä¹ˆè§£æ„èµ‹å€¼æœ‰ä»€ä¹ˆç”¨é€”å‘¢*
<br>1.äº¤æ¢å˜é‡çš„å€¼
```
let x = 1;
let y = 2;
[x, y] = [y, x];
```
<br>2.å‡½æ•°è¿”å›å¤šä¸ªå€¼
```
function example() {
	return [1, 2, 3];
}
let [a, b, c] = example();

function example() {
	return {
		foo : 1,
		bar : 2
	};
}

let {foo, bar} = example();
```
<br>3.å‡½æ•°å‚æ•°çš„å®šä¹‰
```
function f([x, y, z]) {}
f([1, 2, 3]);

function f([x, y, z]) {}
f([z: 3, y: 2, x: 1]);
```
<br>4.å¿«é€Ÿæå–json
```
let jsonData = {
	id: '42',
	status: 'ok',
	data: [1, 2]
};

let {id, status, data: number} = jsonData;
```
<br>5.å‡½æ•°å‚æ•°é»˜è®¤å€¼
<br>6.éå†mapç»“æ„
```
var map = new Map();
map.set('first', 'hello');
map.set('second', 'world');

for(let [key, value] of map) {
	...
}

//åªå–é”®å
for(let [key] of map){
	..
}

//åªå–é”®å€¼
for(let [,value] of map) {
	..
}
```
<br>7.è¾“å…¥æ¨¡å—çš„æŒ‡å®šæ–¹æ³•

# å­—ç¬¦ä¸²çš„æ‰©å±•
<br> JavaScript åªæœ‰indexOfæ–¹æ³•ç”¨æ¥ç¡®å®šä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦åŒ…å«åœ¨å¦ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ã€‚es6ä¸­æä¾›äº†ä¸‰ç§æ–°æ–¹æ³•
<strong>include:</strong>è¿”å›å¸ƒå°”å€¼,è¡¨ç¤ºæ˜¯å¦æ‰¾åˆ°äº†å‚æ•°å­—ç¬¦ä¸²
<strong>startsWith:</strong>è¿”å›å¸ƒå°”å€¼,è¡¨ç¤ºå‚æ•°å­—ç¬¦ä¸²æ˜¯å¦åœ¨æºå­—ç¬¦çš„å¤´éƒ¨
<strong>endsWith:</strong>è¿”å›å¸ƒå°”å€¼,æ˜¯å¦åœ¨æºå­—ç¬¦ä¸²çš„å°¾éƒ¨
éƒ½æ”¯æŒç¬¬äºŒä¸ªå‚æ•°,è¡¨ç¤ºå¼€å§‹æœç´ çš„ä½ç½®ã€‚endsWithé™¤å¤–,ç¬¬äºŒä¸ªå‚æ•°næŒ‡çš„æ˜¯nä¸ªå­—ç¬¦ä¹‹å‰
<strong>repeat(arg)</strong>è¿”å›ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²,è¡¨ç¤ºå°†åŸå­—ç¬¦ä¸²é‡å¤argæ¬¡,argä¸ºå°æ•°æ—¶å‘ä¸‹å–æ•´,è´Ÿæ•°æˆ–è€…InfinityæŠ¥é”™ã€‚
åœ¨0åˆ°-1ä¹‹é—´ç­‰åŒäº0,argä¸ºå­—ç¬¦ä¸²åˆ™å…ˆè½¬æ¢ä¸ºæ•°å­—
```
'1'.repeat(1); // '1'
'1'.repeat(2.9); // '11'
```
<strong>padStrat(minLength, string) padEnd</strong>ç”¨æ¥è¡¥å…¨å­—ç¬¦ä¸²é•¿åº¦
```
æ­£å¸¸ä½¿ç”¨ï¼š
'xxx'.padStart(5, 'ab'); //abxxx
'xxx'.padEnd(5,'ab'); //xxxab

ç»™å®šé•¿åº¦ < string.length+æºå­—ç¬¦é•¿åº¦ï¼š
'abc'.padStart(10,'0123456789'); //'0123456abc'
'abc'.padEnd(2,'xx'); //abc

stringç¼ºçœæ—¶ä½¿ç”¨ç©ºæ ¼ä»£æ›¿
å¸¸è§ç”¨é€”
è¡¥å…¨æŒ‡å®šä½æ•°
'1'.padStart(10, '0'); 	//'0000000001'
'123'.padStart(10, '0') //'0000000123'
```
*æ¨¡ç‰ˆå­—ç¬¦ä¸²*
<br>æ¨¡ç‰ˆå­—ç¬¦ä¸²(template string)æ˜¯å¢å¼ºç‰ˆçš„å­—ç¬¦ä¸²,ç”¨åå¼•å·(\`)æ ‡è¯†ã€‚æ—¢å¯ä»¥å½“ä½œæ™®é€šå­—ç¬¦ä¸²ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥å®šä¹‰å¤šè¡Œå­—ç¬¦ä¸²,æˆ–è€…åœ¨å­—ç¬¦ä¸²ä¸­åµŒå…¥å˜é‡
```
// æ™®é€šå­—ç¬¦ä¸²
`In js '\n' is a line-feed`

// å¤šè¡Œå­—ç¬¦ä¸²
`in js this is
not legal`

// å­—ç¬¦ä¸²ä¸­åµŒå…¥å˜é‡
var name = 'bob', time = 'today';
`hello ${name}, how are you ${time}`
``` 
*æ ‡ç­¾æ¨¡ç‰ˆ*
```
alert`123`
alert(123)
```
<br>æœ¬èº«å…¶å®æ˜¯ä¸€ç§å‡½æ•°è°ƒç”¨çš„ç‰¹æ®Šå½¢å¼,æ ‡ç­¾æŒ‡çš„å°±æ˜¯å‡½æ•°,ç´§è·Ÿåœ¨åé¢çš„æ¨¡ç‰ˆå­—ç¬¦ä¸²å°±æ˜¯å‚æ•°,å¦‚æœå‚æ•°é‡Œé¢æœ‰å˜é‡çš„è¯å°±ä¸æ˜¯ç®€å•çš„è°ƒç”¨è€Œæ˜¯å°†æ¨¡ç‰ˆå­—ç¬¦ä¸²å…ˆå¤„ç†æˆå¤šä¸ªå‚æ•°
<br>ä¸¤ç§æ–¹å¼å°†å‚æ•°æŒ‰ç…§åŸæ¥ä½ç½®æ‹¼åˆå›å»
```
// é€šè¿‡å‡½æ•°å†…éƒ¨çš„argumentså±æ€§
var total = 10;
let msg = pass`The total is ${total} ($(total*1.5) with tax)`;
function pass(s) {
	var result = '';
	for(let i=0;i<s.length;i++) {
		result += s[i];
		if(i < arguments.length - 1) {
			result+= arguments[i+1];
		}
	}
	return result;
}

// é‡‡ç”¨restå‚æ•°çš„å†™æ³•
...
```
*String.raw()*
!@#$@%$#^

# æ­£åˆ™çš„æ‰©å±•
# æ•°å€¼çš„æ‰©å±•
# æ•°ç»„çš„æ‰©å±•
*Array.from*
<br>å°†ç±»æ•°ç»„å¯¹è±¡å’Œå¯éå†å¯¹è±¡è½¬åŒ–ä¸ºæ•°ç»„
<br>ä¸¤ä¸ªå¸¸è§çš„ç”¨é€”(ç±»æ•°ç»„å¯¹è±¡)
```
let node = document.getElementsByClassName('content');
Array.from(node).forEach(function() {
	....
});

function foo() {
	var args = Array.from(arguments);
}
```
<br>å¯éå†å¯¹è±¡(å…·æœ‰Iteratoræ¥å£ï¼šå­—ç¬¦ä¸²ã€setã€map)
```
Array.from('hello');

let set = new Set(['a','b']);
Array.from(set);
```
*Array.of()*
ç”¨æ¥å¼¥è¡¥Array()çš„ä¸è¶³,å½“å‚æ•°åªæœ‰ä¸€ä¸ªçš„æ—¶å€™ï¼Œå‚æ•°å½“ä½œæ¥æŒ‡å®šæ•°ç»„çš„é•¿åº¦
Array.of()æ€»è¿”å›ç”±å‚æ•°æ„æˆçš„æ–°æ•°ç»„ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ Array.of(undefined); //[undefined]
```
function ArrayOf(){
	return [].slice.call(arugments);
}
```
*copyWithin()*
```
//es5 å¤åˆ¶æ•°ç»„
let a1 = [1,2,3];
let a2 = a1.concat();

//es6 å¤åˆ¶æ•°ç»„
a2 = [...a1];
[...a2] = a1;
		
//es5 åˆå¹¶æ•°ç»„
let arr1 = [1,2,3],
arr2 = [4,5,6],
arr3 = [7,8,9];
arr1.concat(arr2,arr3);
			
//es6 åˆå¹¶æ•°ç»„
[...arr1, ...arr2, ...arr3];
				
//Array.from() å°†ç±»æ•°ç»„å¯¹è±¡è½¬åŒ–ä¸ºçœŸæ­£çš„æ•°ç»„
//1.å°†DOMæ“ä½œè¿”å›çš„nodeListé›†åˆä»¥åŠå‡½æ•°å†…éƒ¨çš„argumentså¯¹è±¡
let pn = document.getElementsByTagName('p');
Array.from(pn).forEach((p) => console.log(p));
[...pn].forEach((p) => console.log(p));
			
//2.argumentså¯¹è±¡
function foo() {
	let arg = Array.from(arguments);
	arg = [...arguments];
	}
			
//... ä¸ Array.from éƒ½å¯ä»¥è¿›è¡Œè½¬åŒ–ï¼Œæ˜¯å› ä¸ºè¿™äº›ç±»æ•°ç»„èƒŒåéƒ½éƒ¨ç½²äº†iteratoræ¥å£
//å¯¹äºæ²¡æœ‰iteratoræ¥å£çš„ï¼Œä½†åªè¦æœ‰lengthå±æ€§ï¼ŒArray.fromä¾æ—§å¯ä»¥è½¬æ¢ã€‚
		
//Array.of å¼¥è¡¥Array()çš„ç¼ºé™·
			
//copyWithin() 
//æ•°ç»„å®ä¾‹çš„copyWithinæ–¹æ³•ï¼Œåœ¨å½“å‰æ•°ç»„å†…éƒ¨ï¼Œ
//å°†æŒ‡å®šä½ç½®çš„æˆå‘˜å¤åˆ¶åˆ°å…¶ä»–ä½ç½®ï¼ˆä¼šè¦†ç›–åŸæœ‰æˆå‘˜ï¼‰ï¼Œ
//ç„¶åè¿”å›å½“å‰æ•°ç»„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä½¿ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œä¼šä¿®æ”¹å½“å‰æ•°ç»„ã€‚
Array.prototype.copyWithin(target, start = 0, end = this.length);
arr.copyWithin(0,3);
			
//find findIndex ä¸ indexOf åŒºåˆ«
//åè€…æ— æ³•æ‰¾åˆ°æ•°ç»„ä¸­çš„NaN 
//å‰è€…é€šè¿‡Object.is(NaN, value) å®ç°
[NaN].findIndex(y => Object.is(NaN, y));
	
//fill æ•°ç»„å¡«å……ï¼Œå¦‚æœæ•°ç»„æœ‰å€¼åˆ™æŠ¹å»
['a','b','c'].fill(7,1,2);	//['a',7,'c']
			
//æ•°ç»„çš„ä¸‰ä¸ªæ–¹æ³• entries()ã€keys()ã€values()
for(let val of ['a', 'b'].values()) {
	console.log(val);	//'a' 'b'
}
			
for(let key of ['a', 'b'].keys()) {
	console.log(key);	//0 1	
}		
			
for(let [index, val] of ['a', 'b'].entries()) {
	console.log(index +" " + val);	//0 'a'   1 'b'
}
			
//includes è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œåˆ¤æ–­æ•°ç»„æ˜¯å¦åŒ…å«æŸä¸ªå€¼
[1,2,3].includes(2,1);	//true	ç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºèµ·å§‹ä½ç½®
[NaN].includes(NaN); 	//true	ä¸ä¼šåƒindexOfä¸­ä½¿ç”¨===åˆ¤æ–­å¯¼è‡´æœ‰è¯¯
	
// Array.prototype.flat(deepth)
var arr1 = [1, 2, [3, 4]];
arr1.flat();
// [1, 2, 3, 4]

var arr2 = [1, 2, [3, 4, [5, 6]]];
arr2.flat();
// [1, 2, 3, 4, [5, 6]]

var arr3 = [1, 2, [3, 4, [5, 6]]];
arr3.flat(2);
// [1, 2, 3, 4, 5, 6]
			
//es5 ä¸­éƒ½ä¼šå°†æ•°ç»„ä¸­çš„ç©ºä½ç»™çœç•¥æ‰
//es6 ä¸­éƒ½ä¼šä¿ç•™æˆ–è€…æ˜¯å˜ä¸ºundefined; for ofä¹Ÿæ˜¯å¦‚æ­¤,ä¸ä¼šç›´æ¥çœç•¥ç©ºä½
//å»ºè®®ä¸è¦æœ‰ç©ºä½
```
# å‡½æ•°çš„æ‰©å±•
æœ€è¿‘ä¹Ÿæ…¢æ…¢å¼€å§‹ä½¿ç”¨es6çš„è¯­æ³•äº†,ä»Šå¤©åˆå­¦ä¹ äº†æ–°æŠ€æœ¯ï¼Œçœ‹ä¸‹é¢è¿™æ®µä»£ç è¯´å‡ºä½ æƒ³ä»€ä¹ˆ
```
function factorial(n, total = 1) {
	if(n === 1) {
		return total;
	} else {
		return factorial(n - 1, n * total);
	}
}
```
*å°¾è°ƒç”¨ä¼˜åŒ–*
*æŸ¯é‡ŒåŒ–*

# proxy
*proxyçš„getæ–¹æ³•å®ç°é“¾å¼æ“ä½œ*
```
var pipe = (function() {
	return function(value) {
		var funcStack = [];
		var proxy = new Proxy({}, {
			get: function(pipeObject, fnName) {
				if(fnName === 'get') {
					return funcStack.reduce(function(val, fn){
						return fn(val);
					}, value);
				}
				funcStack.push(window[fnName]);
				return proxy;
			}
		});
		return proxy;
	}
}());
			
var double = n => n * 2;
var pow = n => n * n;
var reverseInt = n => n.toString().split('').reverse().join('') | 0;
console.log(pipe(3).double.pow.reverseInt.get);	 //63
```

*proxy get() å®ç°ç”ŸæˆdomèŠ‚ç‚¹*
```
const dom = new Proxy({},{
	get(target, property) {
		return function(attrs = {}, ...children) {
			const el = document.createNode(property);
			for(let prop of Object.keys(attrs)) {
				el.setAttribute(prop, attrs[prop]);
			}
			for(let child of children) {
				if(typeof child === 'string'){
					child = document.createTextNode(child);
				}
				el.appendChild(child);
			}
			return el;
		}
	}
});

const el = dom.div({},'hello ',
		dom.a({href:'http://www.baidu.com'},'world'),
		dom.ul({},dom.li({},'a'),dom.li({},'b')));
document.body.appendChild(el);
```

*é€šè¿‡set get é˜²æ­¢å†…éƒ¨å±æ€§è¢«è¯»å†™*
```
const handler = {
	set(target,key,value) {
		check(key,'set');
		target[key] = value;
		return true;
	},
	get(target,key) {
		check(key,'get');
		return target[key];
	}
};
function check(key,action) {
	if(key[0] === '_') {
		throw new Error (`Invalid attempt to ${action} the private "${key}" property`);
	}
}
let oproxy = new Proxy({},handler);
oproxy._prop;  	//Invalid attempt to get the private _prop property
```

# Symbol
*ä»¥åç”¨switchçš„æ—¶å€™å¯ä»¥ç”¨ä¸‹é¢çš„æŠ€å·§*
```
// è‡³äºcircleå’Œtriangleæ²¡æœ‰å¿…è¦æœ‰å€¼
const shapeType = {
	circle : Symbol(),
	triangle : Symbol()
};

function getArea(shape, options) {
	let area = 0;
	switch(shape) {
		case shapeType.circle :
			area = Math.PI * options.R * options.R;
			break;
		case shapeType.triangle :
			area = .5 * options.width * options.height;
			break;
	}
	
	return area;
}
let circleArea = getArea(shapeType.circle, {R: 10});
let triangleArea = getArea(shapeType.triangle, {width: 10, height: 5});
```
Object.getOwnPropertyNames(obj); //è¿”å›objä¸­çš„å±æ€§å ä¸åŒ…æ‹¬ Symbolå±æ€§
Object.getOwnPropertySymbols(obj); //è¿”å›objçš„Symbolå±æ€§
Reflect.ownKeys(obj);	//ä¸¤è€…éƒ½è¿”å›

Symbol.for('s');	//å¦‚æœå­˜åœ¨Symbol('s')åˆ™è¿”å›Symbol('s'),ä¸å­˜åœ¨åˆ™æ–°å»ºä¸€ä¸ª,åŒæ—¶ç™»è®°ï¼Œä¾›keyFor å’Œ forè¿›è¡Œæœç´¢
Symbol.keyFor()

# æ–°å¢ã€è¿˜æœªä½¿ç”¨çš„ç‰¹æ€§

** ä»£æ›¿ Math.pow 
7**2  // 49 
<br>Object.keys(obj).map(key => obj[key]); 
<br>instead of Object.values(obj);
<br>Object.entries({id: 1, name: 'test'}); // [['id', 1], ['name', 'test']]
<br>å­—ç¬¦ä¸²è¿½åŠ padStart(total, string); é»˜è®¤ç©ºæ ¼ padEndåŒç†
<br>asyncçš„å¦ä¸€ç§ç”¨æ³•
```
(async () => {
	const listData = getListData();
	const otherListData = getOtherListData();
	await listData;
	await otherListData;
})();
```
<br>å½“ç„¶ä½¿ç”¨promise.allæ›´å¥½
<br>åŒå†’å·è¿ç®—ç¬¦
```
foo::bar ====>  bar.bind(foo);
foo::bar(...arguments) ====> bar.bind(foo, arugments);
```